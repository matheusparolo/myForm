<h1>Pesquisas</h1>
<h2>{$research->getName()}</h2>

<a href="/formulario/criar/{$research->getID()}">Criar Formulário</a>
<a href="/sair">Sair</a>

<div>

    {loop="$forms"}

        <div class="form">
            <div class="form-infos">
                <p>Nome: {$value->getName()}</p>
            </div>
            <div class="form-actions">
                <a href="/formulario/{$value->getID()}">Visualizar</a>
                <a href="/formulario/{$value->getID()}/editar">Editar</a>
                <a onclick="delete_form({$value->getId()})" >Deletar</a>
            </div>
        </div>

    {/loop}

</div>

<script>

    function delete_form(id)
    {

        let decision = prompt("Digite \"Confirmar\" para confirmar a operação");
        if(decision.toLowerCase() === "confirmar")
        {

            $.post("/formulario/deletar", {

                "id": id

            }, function(data){

                show_response(data);

            });
        }

    }

    codes = {
        "000" : "",
        "200" : "Problema com o banco de dados, tente novamente mais tarde!",
        "400" : "Você não possui o acesso necessário para realizar está operação!"
    }

</script>

<style>
    a{
        cursor: pointer;
        text-decoration: underline;
        color: blue;
    }
    .form
    {
        padding: 10px;
        border: 1px solid black;
        width: 40%;
    }
    .form-infos, .form-actions
    {
        display: inline-block;
    }
    .form-infos p
    {
        margin: 0;
    }
</style>